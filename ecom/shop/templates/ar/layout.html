{% load static %}

<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- style.css -->
    <link rel="stylesheet" href="{% static 'style.css' %}">

    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- Bootstrap Icons CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">

    <!-- Bootstrap Script CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <!-- Google font: Kalnia, Wix Madefor Display, Raleway, Półtawski Nowy, Trochut -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Kalnia:wght@100..700&family=Poltawski+Nowy:ital,wght@0,400..700;1,400..700&family=Raleway:ital,wght@0,100..900;1,100..900&family=Trochut:ital,wght@0,400;0,700;1,400&family=Wix+Madefor+Display:wght@400..800&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400..700&display=swap" rel="stylesheet">

    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!-- Animations -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8650665056742555"
        crossorigin="anonymous"></script>

    <!-- Google meta for search -->
    <meta name="google-site-verification" content="CoZf7wWhgTwgGuJt5FYb9e-DYpQal2LKfXkMvzUb4Xo" />

    <!-- LOGO -->
    <link rel="icon" type="image/png" href="../static/media/logo/svg/logo-no-background.svg">

    <!-- Include Cropper.js CSS via CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css" rel="stylesheet">

    <!-- Include Cropper.js JS via CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>


    {% block title %}
    <title>سوق جامعة الملك خالد غير الرسمي</title>
    {% endblock %}
</head>

<body>
    <div class="loadingScreen">
        <div class="container d-flex justify-content-center align-items-center">
        </div>
    </div>

    <nav class="navbar navbar-expand-lg bg-light py-2">
        <div class="container-fluid">
            <a class="logo style-text-3 text-dark mx-md-3 mx-1" href="{% url 'shop:homepage' %}">
                سوق جامعة الملك خالد غير الرسمي
            </a>
            <button class="btn btn-outline-none btn-light d-block d-lg-none" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent">
                <i class="bi bi-list"></i>
            </button>
            <div class="collapse navbar-collapse style-text-3 mt-1" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    {% block notification_block %}
                    {% endblock %}
                </ul>
                <form class="d-flex" role="search" action="{% url 'shop:search_item' %}" method="post">
                    {% csrf_token %}
                    <input class="form-control me-2" type="search" name="search" placeholder="البحث عن منتج"
                        aria-label="Search">
                    <button class="btn btn-outline-danger" type="submit">بحث</button>
                </form>
            </div>
        </div>
    </nav>

    <div class="mynavbar navbar navbar-expand-lg mt-1 bg-dark px-md-3 shadow sticky-top">
        <div class="style-text-3">
            <a href="{% url 'shop:homepage' %}" class="text-light text-decoration-none mx-2">الرئيسية</a>
            {% if new_orders %}
            <a href="{% url 'shop:my_shop' %}" class="text-danger text-decoration-none mx-2"
                title="لديك طلبات جديدة لمنتجاتك">متجري</a>
            {% else %}
            <a href="{% url 'shop:my_shop' %}" class="text-light text-decoration-none mx-2">متجري</a>
            {% endif %}
            <a href="{% url 'shop:myOrders' %}" class="text-light text-decoration-none mx-2">طلباتي</a>
            <a href="{% url 'shop:new_listing' %}" class="text-light text-decoration-none mx-2">بيع منتج جديد</a>
            <a href="{% url 'shop:wishlist' %}" class="text-light text-decoration-none mx-2">قائمة الأمنيات</a>
            {% if notifications %}
            <a href="{% url 'shop:notifications' %}" class="text-danger text-decoration-none mx-2">الإشعارات</a>
            {% else %}
            <a href="{% url 'shop:notifications' %}" class="text-light text-decoration-none mx-2">الإشعارات</a>
            {% endif %}
            <a href="{% url 'shop:toggleLanguage' %}" class="text-light text-decoration-none mx-2">English</a>
            <a href="{% url 'shop:profile' %}" class="text-light text-decoration-none mx-2">حسابي</a>
            {% if user.is_authenticated %}
            <a href="{% url 'shop:logout_user' %}" class="text-light text-decoration-none mx-2">تسجيل الخروج</a>
            {% else %}
            <a href="{% url 'shop:login_user' %}" class="text-light text-decoration-none mx-2">تسجيل الدخول</a>
            {% endif %}
        </div>
    </div>


    {% block body %}
    {% endblock %}


    <footer class="text-light text-center py-2 bg-dark">
        <p class="style-text">&copy; 2024 جميع الحقوق محفوظة.</p>
    </footer>
    <script src="{% static 'script.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" async></script>

    <!-- Firebase -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyBSCpcctpJNIr26-D73N9-M6Jhxe3pZnk0",
            authDomain: "kku-unofficial-store.firebaseapp.com",
            projectId: "kku-unofficial-store",
            storageBucket: "kku-unofficial-store.appspot.com",
            messagingSenderId: "920854395385",
            appId: "1:920854395385:web:2c52cbe92d41289d912528",
            measurementId: "G-2T7WF92CT8"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);


        var anchors = document.querySelectorAll('a');
        anchors.forEach(function (anchor) {
            anchor.addEventListener('click', function (event) {
                //event.preventDefault();
                anchor.classList.add('disabled');
                document.querySelector('.loadingScreen').style.display = "block";
                setTimeout(() => {
                    document.querySelector('.loadingScreen').style.display = "none";
                }, 5000);
                // window.location.href = anchor.href;
            });
        });

    </script>

    <!--
    <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js"
        data-id="kkuunofficialstore" data-description="Support me on Buy me a coffee!" data-color="#0d6efd"
        data-position="Right" data-x_margin="18" data-y_margin="18"></script>
        -->
</body>

</html>
